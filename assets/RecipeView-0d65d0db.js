import{d as $,o as a,c as _,a as e,t as n,F as N,r as P,_ as V,b as y,p as U,e as j,f as J,g as x,u as K,h as O,i as Q,m as W,j as X,w as F,v as Y,k as T,l as Z,n as ee,q as te,s as S,x as ne,y as C,z as b,A as se}from"./index-3945266c.js";const oe={class:"container"},le={class:"instructions"},ae=$({__name:"CookingPhaseInstructions",props:{title:{},instructions:{}},setup(d){return(v,m)=>(a(),_("div",oe,[e("h3",null,n(v.title),1),e("div",le,[(a(!0),_(N,null,P(v.instructions,(c,i)=>(a(),_("span",{key:c},n(i+1)+". "+n(c),1))),128))])]))}});const z=V(ae,[["__scopeId","data-v-2b6b6fec"]]),h=d=>(U("data-v-88f6c797"),d=d(),j(),d),ie={class:"container"},ue=h(()=>e("h2",null,"Wartości odżywcze",-1)),re=h(()=>e("th",{class:"name"},"Wartość odżywcza",-1)),ce={class:"servings"},de=h(()=>e("th",{class:"hundred-g"},"w 100 g",-1)),_e=h(()=>e("td",null,"Wartość energetyczna",-1)),ge=h(()=>e("td",null,"Tłuszcz",-1)),ve=h(()=>e("td",null,"w tym kwasy tłuszczowe nasycone",-1)),pe=h(()=>e("td",null,"Węglowodany",-1)),he=h(()=>e("td",null,"w tym cukry",-1)),me=h(()=>e("td",null,"Białko",-1)),ye=h(()=>e("td",null,"Sól",-1)),fe=h(()=>e("td",null,"Cholesterol",-1)),k=2,ke=$({__name:"NutritionValues",props:{ingredients:{}},setup(d){const v=d,m=y(()=>v.ingredients.reduce((t,u)=>t+u.quantity,0)),c=(t,u)=>t[u]??0,i=t=>(v.ingredients.reduce((p,g)=>p+g.quantity/100*c(g.nutritionalValue,t),0)/m.value*100).toFixed(1),s=(t,u)=>(v.ingredients.reduce((g,w)=>g+w.quantity/100*c(w.nutritionalValue,t),0)/u).toFixed(1);return(t,u)=>(a(),_("div",ie,[ue,e("table",null,[e("tr",null,[re,e("th",ce,"w porcji ("+n(m.value/2)+" g)",1),de]),e("tr",null,[_e,e("td",null,n(s("calories",k))+" kcal",1),e("td",null,n(i("calories"))+" kcal",1)]),e("tr",null,[ge,e("td",null,n(s("totalFat",k))+" g",1),e("td",null,n(i("totalFat"))+" g",1)]),e("tr",null,[ve,e("td",null,n(s("saturatedFat",k))+" g",1),e("td",null,n(i("saturatedFat"))+" g",1)]),e("tr",null,[pe,e("td",null,n(s("totalCarbohydrate",k))+" g",1),e("td",null,n(i("totalCarbohydrate"))+" g",1)]),e("tr",null,[he,e("td",null,n(s("sugar",k))+" g",1),e("td",null,n(i("sugar"))+" g",1)]),e("tr",null,[me,e("td",null,n(s("protein",k))+" g",1),e("td",null,n(i("protein"))+" g",1)]),e("tr",null,[ye,e("td",null,n(s("sodium",k))+" g",1),e("td",null,n(i("sodium"))+" g",1)]),e("tr",null,[fe,e("td",null,n(s("cholesterol",k))+" g",1),e("td",null,n(i("cholesterol"))+" g",1)])])]))}});const we=V(ke,[["__scopeId","data-v-88f6c797"]]),$e=$({__name:"IngredientList",props:{ingredients:{}},emits:["ingredientRemoved"],setup(d,{emit:v}){const m=v,c=i=>{m("ingredientRemoved",i)};return(i,s)=>{const t=J("font-awesome-icon");return a(),_("div",null,[(a(!0),_(N,null,P(i.ingredients,u=>(a(),_("div",{key:u.name,class:"ingredient"},[x(t,{icon:K(Q),class:"remove-icon",onClick:p=>c(u)},null,8,["icon","onClick"]),O(),e("span",null,n(u.quantityDescription),1)]))),128))])}}});const Ve=V($e,[["__scopeId","data-v-3d09afc0"]]),Ie={class:"search-container"},Se={class:"suggestions"},Ce=["onClick"],be=$({__name:"SearchBar",props:W({suggestions:{}},{modelValue:{default:""}}),emits:W(["search"],["update:modelValue"]),setup(d,{emit:v}){const m=d,c=X(d,"modelValue"),i=v,s=y(()=>m.suggestions.filter(u=>u.label.toLowerCase().includes(c.value.toLowerCase())).sort().slice(0,5)),t=u=>{c.value="",i("search",u)};return(u,p)=>(a(),_("div",Ie,[F(e("input",{type:"search",placeholder:"np. tofu",class:"search",name:"q",autocomplete:"off","onUpdate:modelValue":p[0]||(p[0]=g=>c.value=g)},null,512),[[Y,c.value]]),F(e("div",Se,[(a(!0),_(N,null,P(s.value,g=>(a(),_("div",{key:g.label,class:"suggestion",onClick:w=>t(g)},n(g.label),9,Ce))),128)),F(e("div",{class:"suggestion",onClick:p[1]||(p[1]=g=>c.value="")},"Nie znaleziono. ",512),[[T,s.value.length==0]])],512),[[T,c.value]])]))}});const ze=V(be,[["__scopeId","data-v-377c39d4"]]),R=d=>(U("data-v-b36387cb"),d=d(),j(),d),xe={class:"container"},Ne={key:0,class:"recipe"},Pe={class:"header"},Fe=["src","alt"],Re={class:"description"},Be={class:"tags"},qe=R(()=>e("h2",{class:"ingredients"},"Składniki",-1)),Me={class:"servings"},Le={class:"instructions-container"},De=R(()=>e("h2",null,"Sposób przygotowania",-1)),We=R(()=>e("h3",null," Gotowe! Smaczenego! ",-1)),Te={key:1},Ue=$({__name:"RecipeView",setup(d){const{t:v}=Z(),m=ee(),c=te(),i=m.params.slug,s=S(),t=S(),u=S(2),{toast:p}=se();ne(i).then(r=>{var l;if(r.status==404){c.replace({name:"NotFound"});return}s.value=r.data,t.value=(l=r.data)==null?void 0:l.puzzles[0]});const g=y(()=>{var l,o;if(!s.value)return[];if(!t.value)return[];const r=(l=t.value)==null?void 0:l.ingredients;return(o=s.value)==null?void 0:o.ingredients.filter(f=>r.includes(f.name)).flatMap(f=>f.instructions)}),w=y(()=>{var r;return((r=s.value)==null?void 0:r.ingredients.filter(l=>{var o;return(o=t.value)==null?void 0:o.ingredients.includes(l.name)}))??[]}),A=r=>{var l;t.value&&(t.value={...t.value},t.value.ingredients=(l=t.value)==null?void 0:l.ingredients.filter(o=>o!=r.name),p("Usunięto skadnik"))},I=r=>{const l=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return g.value.filter(o=>o.cookingPhase.startsWith(r)).sort((o,f)=>l.compare(o.cookingPhase,f.cookingPhase)).map(o=>o.details)},B=S(""),E=y(()=>{var r;return((r=s.value)==null?void 0:r.ingredients.filter(l=>{var o;return!((o=t.value)!=null&&o.ingredients.includes(l.name))}).map(l=>({label:v(`ingredients.${l.name}`),value:l.name})))??[]}),G=r=>{var o,f;const l=(o=s.value)==null?void 0:o.ingredients.find(H=>H.name==r.value);l&&(t.value={...t.value},(f=t.value)==null||f.ingredients.push(l.name),p("Dodano składnik"))},q=y(()=>I("Preparation")),M=y(()=>I("Frying")),L=y(()=>I("Sauce")),D=y(()=>I("Mixing"));return(r,l)=>(a(),_("div",xe,[s.value?(a(),_("div",Ne,[e("div",Pe,[e("img",{src:s.value.imageUrl,alt:s.value.name,class:"image"},null,8,Fe),e("div",Re,[e("h1",null,n(s.value.name),1),e("span",null,n(s.value.shortDescription),1),e("div",Be,[(a(!0),_(N,null,P(s.value.tags,o=>(a(),_("div",{key:o,class:"tag"},n(o),1))),128))]),qe,e("div",Me,[e("span",null,"liczba porcji: "+n(u.value),1)]),x(Ve,{ingredients:w.value,onIngredientRemoved:A},null,8,["ingredients"]),x(ze,{modelValue:B.value,"onUpdate:modelValue":l[0]||(l[0]=o=>B.value=o),suggestions:E.value,class:"search",onSearch:G},null,8,["modelValue","suggestions"])])]),e("div",Le,[De,q.value.length>0?(a(),C(z,{key:0,title:"Przygotowanie",instructions:q.value},null,8,["instructions"])):b("",!0),M.value.length>0?(a(),C(z,{key:1,title:"Smażenie",instructions:M.value},null,8,["instructions"])):b("",!0),L.value.length>0?(a(),C(z,{key:2,title:"Sos",instructions:L.value},null,8,["instructions"])):b("",!0),D.value.length>0?(a(),C(z,{key:3,title:"Mieszanie",instructions:D.value},null,8,["instructions"])):b("",!0),We]),x(we,{ingredients:w.value},null,8,["ingredients"])])):(a(),_("div",Te," Ładowanie... "))]))}});const Ae=V(Ue,[["__scopeId","data-v-b36387cb"]]);export{Ae as default};
