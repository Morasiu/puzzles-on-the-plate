import{d as $,c as _,a as e,t as n,F as x,r as S,o,_ as C,b as k,p as q,e as L,f as X,g as N,u as Y,h as Z,i as ee,m as J,j as te,w as M,v as ne,k as G,n as se,l as le,q as I,s as oe,x as V,y as b,z as ae,A as ie,B as ce}from"./index-39bd4d19.js";const ue={class:"container"},re={class:"instructions"},de=$({__name:"CookingPhaseInstructions",props:{title:{},instructions:{}},setup(u){return(v,p)=>(o(),_("div",ue,[e("h3",null,n(v.title),1),e("div",re,[(o(!0),_(x,null,S(v.instructions,(r,i)=>(o(),_("span",{key:r},n(i+1)+". "+n(r),1))),128))])]))}});const B=C(de,[["__scopeId","data-v-2b6b6fec"]]),f=u=>(q("data-v-88f6c797"),u=u(),L(),u),_e={class:"container"},ve=f(()=>e("h2",null,"Wartości odżywcze",-1)),ge=f(()=>e("th",{class:"name"},"Wartość odżywcza",-1)),pe={class:"servings"},he=f(()=>e("th",{class:"hundred-g"},"w 100 g",-1)),me=f(()=>e("td",null,"Wartość energetyczna",-1)),fe=f(()=>e("td",null,"Tłuszcz",-1)),ke=f(()=>e("td",null,"w tym kwasy tłuszczowe nasycone",-1)),ye=f(()=>e("td",null,"Węglowodany",-1)),we=f(()=>e("td",null,"w tym cukry",-1)),ze=f(()=>e("td",null,"Białko",-1)),$e=f(()=>e("td",null,"Sól",-1)),Ce=f(()=>e("td",null,"Cholesterol",-1)),y=2,Ie=$({__name:"NutritionValues",props:{ingredients:{}},setup(u){const v=u,p=k(()=>v.ingredients.reduce((t,d)=>t+d.quantity,0)),r=(t,d)=>t[d]??0,i=t=>(v.ingredients.reduce((h,g)=>h+g.quantity/100*r(g.nutritionalValue,t),0)/p.value*100).toFixed(1),l=(t,d)=>(v.ingredients.reduce((g,z)=>g+z.quantity/100*r(z.nutritionalValue,t),0)/d).toFixed(1);return(t,d)=>(o(),_("div",_e,[ve,e("table",null,[e("tr",null,[ge,e("th",pe,"w porcji ("+n(p.value/2)+" g)",1),he]),e("tr",null,[me,e("td",null,n(l("calories",y))+" kcal",1),e("td",null,n(i("calories"))+" kcal",1)]),e("tr",null,[fe,e("td",null,n(l("totalFat",y))+" g",1),e("td",null,n(i("totalFat"))+" g",1)]),e("tr",null,[ke,e("td",null,n(l("saturatedFat",y))+" g",1),e("td",null,n(i("saturatedFat"))+" g",1)]),e("tr",null,[ye,e("td",null,n(l("totalCarbohydrate",y))+" g",1),e("td",null,n(i("totalCarbohydrate"))+" g",1)]),e("tr",null,[we,e("td",null,n(l("sugar",y))+" g",1),e("td",null,n(i("sugar"))+" g",1)]),e("tr",null,[ze,e("td",null,n(l("protein",y))+" g",1),e("td",null,n(i("protein"))+" g",1)]),e("tr",null,[$e,e("td",null,n(l("sodium",y))+" g",1),e("td",null,n(i("sodium"))+" g",1)]),e("tr",null,[Ce,e("td",null,n(l("cholesterol",y))+" g",1),e("td",null,n(i("cholesterol"))+" g",1)])])]))}});const Ve=C(Ie,[["__scopeId","data-v-88f6c797"]]),xe=$({__name:"IngredientList",props:{ingredients:{}},emits:["ingredientRemoved"],setup(u,{emit:v}){const p=v,r=i=>{p("ingredientRemoved",i)};return(i,l)=>{const t=X("font-awesome-icon");return o(),_("div",null,[(o(!0),_(x,null,S(i.ingredients,d=>(o(),_("div",{key:d.name,class:"ingredient"},[N(t,{icon:Y(ee),class:"remove-icon",onClick:h=>r(d)},null,8,["icon","onClick"]),Z(),e("span",null,n(d.quantityDescription),1)]))),128))])}}});const Se=C(xe,[["__scopeId","data-v-3d09afc0"]]),Pe={class:"search-container"},Fe={class:"suggestions"},be=["onClick"],Be=$({__name:"SearchBar",props:J({suggestions:{}},{modelValue:{default:""},modelModifiers:{}}),emits:J(["search"],["update:modelValue"]),setup(u,{emit:v}){const p=u,r=te(u,"modelValue"),i=v,l=k(()=>p.suggestions.filter(d=>d.label.toLowerCase().includes(r.value.toLowerCase())).sort().slice(0,5)),t=d=>{r.value="",i("search",d)};return(d,h)=>(o(),_("div",Pe,[M(e("input",{type:"search",placeholder:"np. tofu",class:"search",name:"q",autocomplete:"off","onUpdate:modelValue":h[0]||(h[0]=g=>r.value=g)},null,512),[[ne,r.value]]),M(e("div",Fe,[(o(!0),_(x,null,S(l.value,g=>(o(),_("div",{key:g.label,class:"suggestion",onClick:z=>t(g)},n(g.label),9,be))),128)),M(e("div",{class:"suggestion",onClick:h[1]||(h[1]=g=>r.value="")},"Nie znaleziono. ",512),[[G,l.value.length==0]])],512),[[G,r.value]])]))}});const Ne=C(Be,[["__scopeId","data-v-377c39d4"]]),Re=u=>(q("data-v-eef0cf84"),u=u(),L(),u),Me=Re(()=>e("g",null,[e("g",null,[e("path",{d:`M423.658,234.356c-12.438-0.003-24.01,3.457-33.869,9.468c-3.709,2.262-8.354,2.345-12.141,0.216
              s-6.121-6.137-6.121-10.482V155.4c0-12.027-10.109-21.7-22.139-21.7h-95.748c-4.252,0-8.188-2.248-10.349-5.909
              c-2.161-3.662-2.23-8.196-0.172-11.917c5.22-9.429,8.19-20.296,8.19-31.821c0-36.233-29.374-65.627-65.617-65.627
              c-36.232,0-65.601,29.404-65.601,65.638c0,11.523,2.97,22.385,8.187,31.811c2.061,3.723,1.999,8.258-0.163,11.923
              c-2.163,3.665-6.102,5.902-10.356,5.902H22.014c-12.032,0-22.013,9.673-22.013,21.7v76.237c0,4.231,2.226,8.15,5.859,10.318
              c3.633,2.168,8.143,2.27,11.864,0.257c9.267-5.012,19.876-7.858,31.151-7.855c36.239-0.005,65.612,29.377,65.612,65.612
              c0,36.238-29.373,65.616-65.612,65.606c-11.276,0-21.885-2.847-31.152-7.857c-3.725-2.014-8.234-1.92-11.871,0.25
              C2.216,360.139,0,364.061,0,368.294v80.76c0,12.033,9.98,21.784,22.013,21.784h327.375c12.027,0,22.139-9.751,22.139-21.784
              v-82.681c0-4.342,2.344-8.346,6.127-10.475c3.783-2.127,8.426-2.053,12.135,0.207c9.857,6.011,21.432,9.47,33.867,9.47
              c36.24,0.01,65.607-29.368,65.607-65.606C489.264,263.734,459.896,234.351,423.658,234.356z`})])],-1)),qe=[Me],Le={class:"text"},je=$({__name:"PuzzleContainer",props:{text:{default:"Jigsaw"},isActive:{type:Boolean,default:!1}},emits:["click"],setup(u,{emit:v}){const p=v;return(r,i)=>(o(),_("div",{class:"jigsaw",onClick:i[0]||(i[0]=l=>p("click"))},[(o(),_("svg",{id:"Jigsaw",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 0 489.264 489.264","xml:space":"preserve",class:se(["background",{active:r.isActive}]),fill:"#FFFFFF"},qe,2)),e("span",Le,n(r.text),1)]))}});const De=C(je,[["__scopeId","data-v-eef0cf84"]]),R=u=>(q("data-v-54ca10d3"),u=u(),L(),u),We={class:"container"},Te={key:0,class:"recipe"},Ue={class:"header"},Ae=["src","alt"],Ee={class:"description"},Je={class:"tags"},Ge=R(()=>e("h2",{class:"ingredients"},"Składniki",-1)),He={class:"servings"},Ke=R(()=>e("h2",null,"Propozycje",-1)),Oe={class:"puzzles"},Qe={class:"instructions-container"},Xe=R(()=>e("h2",null,"Sposób przygotowania",-1)),Ye=R(()=>e("h3",null," Gotowe! Smaczenego! ",-1)),Ze={key:1},et=$({__name:"RecipeView",setup(u){const{t:v}=le(),p=ae(),r=ie(),i=p.params.slug,l=I(),t=I(),d=I(2),{toast:h}=ce();oe(i).then(c=>{var s;if(c.status==404){r.replace({name:"NotFound"});return}l.value=c.data,t.value=(s=c.data)==null?void 0:s.puzzles[0]});const g=k(()=>{var s,a;if(!l.value)return[];if(!t.value)return[];const c=(s=t.value)==null?void 0:s.ingredients;return(a=l.value)==null?void 0:a.ingredients.filter(m=>c.includes(m.name)).flatMap(m=>m.instructions)}),z=k(()=>{var c;return((c=l.value)==null?void 0:c.ingredients.filter(s=>{var a;return(a=t.value)==null?void 0:a.ingredients.includes(s.name)}))??[]}),H=c=>{var s;t.value&&(t.value={...t.value},t.value.ingredients=(s=t.value)==null?void 0:s.ingredients.filter(a=>a!=c.name),h("Usunięto skadnik"))},P=c=>{const s=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return g.value.filter(a=>a.cookingPhase.startsWith(c)).sort((a,m)=>s.compare(a.cookingPhase,m.cookingPhase)).map(a=>a.details)},j=I(""),K=k(()=>{var c;return((c=l.value)==null?void 0:c.ingredients.filter(s=>{var a;return!((a=t.value)!=null&&a.ingredients.includes(s.name))}).map(s=>({label:v(`ingredients.${s.name}`),value:s.name})))??[]}),O=c=>{var a,m;const s=(a=l.value)==null?void 0:a.ingredients.find(F=>F.name==c.value);s&&(t.value={...t.value},(m=t.value)==null||m.ingredients.push(s.name),h("Dodano składnik"))},D=k(()=>P("Preparation")),W=k(()=>P("Frying")),T=k(()=>P("Sauce")),U=k(()=>P("Mixing")),A=I(0),Q=c=>{var s;if(A.value=c,t.value=(s=l.value)==null?void 0:s.puzzles[c],!t.value)throw Error("Puzzle not found");r.push({name:"recipes",params:{slug:t.value.slug}})};return(c,s)=>{var a,m,F;return o(),_("div",We,[l.value?(o(),_("div",Te,[e("div",Ue,[e("img",{src:l.value.imageUrl,alt:(a=t.value)==null?void 0:a.name,class:"image"},null,8,Ae),e("div",Ee,[e("h1",null,n((m=t.value)==null?void 0:m.name),1),e("span",null,n((F=t.value)==null?void 0:F.shortDescription),1),e("div",Je,[(o(!0),_(x,null,S(l.value.tags,w=>(o(),_("div",{key:w,class:"tag"},n(w),1))),128))]),Ge,e("div",He,[e("span",null,"liczba porcji: "+n(d.value),1)]),N(Se,{ingredients:z.value,onIngredientRemoved:H},null,8,["ingredients"]),N(Ne,{modelValue:j.value,"onUpdate:modelValue":s[0]||(s[0]=w=>j.value=w),suggestions:K.value,class:"search",onSearch:O},null,8,["modelValue","suggestions"])])]),Ke,e("div",Oe,[(o(!0),_(x,null,S(l.value.puzzles,(w,E)=>(o(),V(De,{text:w.name,key:w.slug,"is-active":A.value==E,onClick:tt=>Q(E)},null,8,["text","is-active","onClick"]))),128))]),e("div",Qe,[Xe,D.value.length>0?(o(),V(B,{key:0,title:"Przygotowanie",instructions:D.value},null,8,["instructions"])):b("",!0),W.value.length>0?(o(),V(B,{key:1,title:"Smażenie",instructions:W.value},null,8,["instructions"])):b("",!0),T.value.length>0?(o(),V(B,{key:2,title:"Sos",instructions:T.value},null,8,["instructions"])):b("",!0),U.value.length>0?(o(),V(B,{key:3,title:"Mieszanie",instructions:U.value},null,8,["instructions"])):b("",!0),Ye]),N(Ve,{ingredients:z.value},null,8,["ingredients"])])):(o(),_("div",Ze," Ładowanie... "))])}}});const st=C(et,[["__scopeId","data-v-54ca10d3"]]);export{st as default};
